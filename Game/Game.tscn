[gd_scene load_steps=16 format=2]

[ext_resource path="res://Player/Player.tscn" type="PackedScene" id=1]
[ext_resource path="res://Game/Tilemaps.tscn" type="PackedScene" id=2]
[ext_resource path="res://Game/EnemySpawner.cs" type="Script" id=4]
[ext_resource path="res://Music/GameSong.wav" type="AudioStream" id=5]
[ext_resource path="res://Enemies/Zombie/Zombie.tscn" type="PackedScene" id=6]
[ext_resource path="res://Game/DifficultyLevel.cs" type="Script" id=8]
[ext_resource path="res://Game/EnemyInstantiater.cs" type="Script" id=9]
[ext_resource path="res://addons/Random Scene Node/RandomScene.cs" type="Script" id=10]
[ext_resource path="res://Game/GameState.cs" type="Script" id=11]
[ext_resource path="res://Singletons/Explanations/ShowHideExplanation.cs" type="Script" id=12]
[ext_resource path="res://Singletons/Explanations/MoveAndAttackExplanations.cs" type="Script" id=13]
[ext_resource path="res://Shaders/Vigniette.shader" type="Shader" id=14]
[ext_resource path="res://UI/Theme/Theme.tres" type="Theme" id=15]
[ext_resource path="res://Enemies/MouseBomb/MouseBomb.tscn" type="PackedScene" id=17]

[sub_resource type="ShaderMaterial" id=1]
shader = ExtResource( 14 )
shader_param/size = 0.324
shader_param/smoothness = 0.523
shader_param/color = Color( 0, 0, 0, 0.784314 )

[node name="Node2D" type="YSort"]
script = ExtResource( 11 )
shopParent = NodePath("ShopPos")

[node name="Explanations" type="CanvasLayer" parent="."]
pause_mode = 2
layer = 5

[node name="MoveAndAttack" type="Control" parent="Explanations"]
visible = false
margin_right = 256.0
margin_bottom = 144.0
mouse_filter = 2
theme = ExtResource( 15 )
script = ExtResource( 13 )
startDelay = 0.5
minWalkDist = 20.0
minZombieDist = 50.0
moveFadeInTime = 1.0
moveFadeOutTime = 1.0
attackFadeInTime = 0.5
attackFadeOutTime = 0.5

[node name="MoveTutorial" type="Control" parent="Explanations/MoveAndAttack"]
anchor_right = 1.0
anchor_bottom = 1.0
mouse_filter = 2

[node name="ColorRect" type="ColorRect" parent="Explanations/MoveAndAttack/MoveTutorial"]
material = SubResource( 1 )
anchor_right = 1.0
anchor_bottom = 1.0
mouse_filter = 2

[node name="Label" type="Label" parent="Explanations/MoveAndAttack/MoveTutorial"]
anchor_right = 1.0
margin_top = 16.0
size_flags_vertical = 1
text = "Move with 'wasd'"
align = 1
valign = 1

[node name="AttackTutorial" type="Control" parent="Explanations/MoveAndAttack"]
anchor_right = 1.0
anchor_bottom = 1.0
mouse_filter = 2

[node name="ColorRect" type="ColorRect" parent="Explanations/MoveAndAttack/AttackTutorial"]
material = SubResource( 1 )
anchor_right = 1.0
anchor_bottom = 1.0
mouse_filter = 2

[node name="Label" type="Label" parent="Explanations/MoveAndAttack/AttackTutorial"]
anchor_right = 1.0
margin_top = 16.0
size_flags_vertical = 1
text = "Attack with 'left mouse'"
align = 1
valign = 1

[node name="Health" type="Control" parent="Explanations"]
visible = false
margin_right = 256.0
margin_bottom = 144.0
mouse_filter = 2
theme = ExtResource( 15 )
script = ExtResource( 12 )

[node name="ColorRect" type="ColorRect" parent="Explanations/Health"]
material = SubResource( 1 )
anchor_right = 1.0
anchor_bottom = 1.0
mouse_filter = 2

[node name="VBoxContainer" type="VBoxContainer" parent="Explanations/Health"]
anchor_right = 1.0
margin_top = 8.0
mouse_filter = 2
alignment = 1

[node name="Label" type="Label" parent="Explanations/Health/VBoxContainer"]
margin_right = 256.0
margin_bottom = 29.0
size_flags_vertical = 1
text = "Level ups will heal you
And you can die now"
align = 1
valign = 1

[node name="Button" type="Button" parent="Explanations/Health/VBoxContainer"]
margin_left = 116.0
margin_top = 33.0
margin_right = 140.0
margin_bottom = 50.0
focus_mode = 0
size_flags_horizontal = 4
enabled_focus_mode = 0
text = "OK"

[node name="UpgradeDices" type="Control" parent="Explanations"]
visible = false
margin_right = 256.0
margin_bottom = 144.0
mouse_filter = 2
theme = ExtResource( 15 )
script = ExtResource( 12 )

[node name="ColorRect" type="ColorRect" parent="Explanations/UpgradeDices"]
material = SubResource( 1 )
anchor_right = 1.0
anchor_bottom = 1.0
mouse_filter = 2

[node name="VBoxContainer" type="VBoxContainer" parent="Explanations/UpgradeDices"]
anchor_right = 1.0
margin_top = 24.0
mouse_filter = 2
alignment = 1

[node name="Label" type="Label" parent="Explanations/UpgradeDices/VBoxContainer"]
margin_right = 256.0
margin_bottom = 13.0
size_flags_vertical = 1
text = "Press 'R' to roll you dices"
align = 1
valign = 1

[node name="Button" type="Button" parent="Explanations/UpgradeDices/VBoxContainer"]
margin_left = 116.0
margin_top = 17.0
margin_right = 140.0
margin_bottom = 34.0
focus_mode = 0
size_flags_horizontal = 4
enabled_focus_mode = 0
text = "OK"

[node name="ShopPosition" type="Control" parent="Explanations"]
visible = false
margin_right = 256.0
margin_bottom = 144.0
mouse_filter = 2
theme = ExtResource( 15 )
script = ExtResource( 12 )

[node name="ColorRect" type="ColorRect" parent="Explanations/ShopPosition"]
material = SubResource( 1 )
anchor_right = 1.0
anchor_bottom = 1.0
mouse_filter = 2

[node name="VBoxContainer" type="VBoxContainer" parent="Explanations/ShopPosition"]
anchor_right = 1.0
margin_top = 8.0
mouse_filter = 2
alignment = 1

[node name="Label" type="Label" parent="Explanations/ShopPosition/VBoxContainer"]
margin_right = 256.0
margin_bottom = 29.0
size_flags_vertical = 1
text = "The shop is at the 
top of the map"
align = 1
valign = 1

[node name="Button" type="Button" parent="Explanations/ShopPosition/VBoxContainer"]
margin_left = 116.0
margin_top = 33.0
margin_right = 140.0
margin_bottom = 50.0
focus_mode = 0
size_flags_horizontal = 4
enabled_focus_mode = 0
text = "OK"

[node name="ShopMenu" type="Control" parent="Explanations"]
visible = false
margin_right = 256.0
margin_bottom = 144.0
mouse_filter = 2
theme = ExtResource( 15 )
script = ExtResource( 12 )

[node name="ColorRect" type="ColorRect" parent="Explanations/ShopMenu"]
material = SubResource( 1 )
anchor_right = 1.0
anchor_bottom = 1.0
mouse_filter = 2

[node name="VBoxContainer" type="VBoxContainer" parent="Explanations/ShopMenu"]
anchor_right = 1.0
margin_top = 8.0
mouse_filter = 2
alignment = 1

[node name="Label" type="Label" parent="Explanations/ShopMenu/VBoxContainer"]
margin_right = 256.0
margin_bottom = 29.0
size_flags_vertical = 1
text = "The shop is at the 
top of the map"
align = 1
valign = 1

[node name="Button" type="Button" parent="Explanations/ShopMenu/VBoxContainer"]
margin_left = 116.0
margin_top = 33.0
margin_right = 140.0
margin_bottom = 50.0
focus_mode = 0
size_flags_horizontal = 4
enabled_focus_mode = 0
text = "OK"

[node name="Music" type="AudioStreamPlayer" parent="."]
pause_mode = 2
stream = ExtResource( 5 )
autoplay = true
bus = "Music"

[node name="Tilemaps" parent="." instance=ExtResource( 2 )]

[node name="Player" parent="." instance=ExtResource( 1 )]
position = Vector2( 136, 19 )

[node name="ShopPos" type="Node2D" parent="."]
position = Vector2( 136, 0 )

[node name="EnemySpawner" type="Node" parent="."]
script = ExtResource( 4 )
_SpawnPositionsHolder = NodePath("../SpawnPositions")

[node name="Level0" type="Node" parent="EnemySpawner"]
script = ExtResource( 8 )

[node name="Instantiater" type="Node" parent="EnemySpawner/Level0"]
script = ExtResource( 9 )
maxEnemyCount = 2
timeBetweenSpawnignRange = Vector2( 1, 3 )

[node name="Zombie" type="Node" parent="EnemySpawner/Level0/Instantiater"]
script = ExtResource( 10 )
scene = ExtResource( 6 )

[node name="Level1" type="Node" parent="EnemySpawner"]
script = ExtResource( 8 )

[node name="Instantiater" type="Node" parent="EnemySpawner/Level1"]
script = ExtResource( 9 )
maxEnemyCount = 4
timeBetweenSpawnignRange = Vector2( 3, 4.5 )

[node name="Zombie" type="Node" parent="EnemySpawner/Level1/Instantiater"]
script = ExtResource( 10 )
scene = ExtResource( 6 )

[node name="Level4" type="Node" parent="EnemySpawner"]
script = ExtResource( 8 )

[node name="BombWave" type="Node" parent="EnemySpawner/Level4"]
script = ExtResource( 9 )
Forever = false
freeAfter = 10
maxEnemyCount = 4
timeBetweenSpawnignRange = Vector2( 0.5, 1.5 )

[node name="Zombie" type="Node" parent="EnemySpawner/Level4/BombWave"]
script = ExtResource( 10 )
scene = ExtResource( 6 )

[node name="MouseBomb" type="Node" parent="EnemySpawner/Level4/BombWave"]
script = ExtResource( 10 )
scene = ExtResource( 17 )
priority = 5

[node name="Instantiater2" type="Node" parent="EnemySpawner/Level4"]
script = ExtResource( 9 )
maxEnemyCount = 5
timeBetweenSpawnignRange = Vector2( 1, 3 )

[node name="Zombie" type="Node" parent="EnemySpawner/Level4/Instantiater2"]
script = ExtResource( 10 )
scene = ExtResource( 6 )
priority = 3

[node name="MouseBomb" type="Node" parent="EnemySpawner/Level4/Instantiater2"]
script = ExtResource( 10 )
scene = ExtResource( 17 )

[node name="SpawnPositions" type="Node2D" parent="."]
visible = false

[node name="Node2D" type="Node2D" parent="SpawnPositions"]
position = Vector2( -112, 16 )

[node name="Node2D2" type="Node2D" parent="SpawnPositions"]
position = Vector2( 17, 134 )

[node name="Node2D3" type="Node2D" parent="SpawnPositions"]
position = Vector2( 87, 114 )

[node name="Node2D4" type="Node2D" parent="SpawnPositions"]
position = Vector2( 153, 141 )

[node name="Node2D5" type="Node2D" parent="SpawnPositions"]
position = Vector2( 223, 133 )

[node name="Node2D6" type="Node2D" parent="SpawnPositions"]
position = Vector2( 168, 88 )

[node name="Node2D7" type="Node2D" parent="SpawnPositions"]
position = Vector2( 224, 32 )

[node name="Node2D8" type="Node2D" parent="SpawnPositions"]
position = Vector2( 340, 43 )

[node name="Node2D9" type="Node2D" parent="SpawnPositions"]
position = Vector2( 320, 256 )

[node name="Node2D10" type="Node2D" parent="SpawnPositions"]
position = Vector2( -118, 271 )

[node name="Node2D11" type="Node2D" parent="SpawnPositions"]
position = Vector2( -24, 259 )

[node name="Node2D12" type="Node2D" parent="SpawnPositions"]
position = Vector2( 266, 258 )

[node name="Node2D13" type="Node2D" parent="SpawnPositions"]
position = Vector2( 197, 240 )

[node name="Node2D14" type="Node2D" parent="SpawnPositions"]
position = Vector2( 26, 242 )

[node name="Node2D15" type="Node2D" parent="SpawnPositions"]
position = Vector2( -17, 183 )

[node name="Node2D16" type="Node2D" parent="SpawnPositions"]
position = Vector2( -94, 197 )

[node name="Node2D17" type="Node2D" parent="SpawnPositions"]
position = Vector2( -82, 143 )

[node name="Node2D18" type="Node2D" parent="SpawnPositions"]
position = Vector2( -72, 78 )

[node name="Node2D19" type="Node2D" parent="SpawnPositions"]
position = Vector2( 301, 189 )

[node name="Node2D20" type="Node2D" parent="SpawnPositions"]
position = Vector2( 327, 120 )

[node name="Node2D21" type="Node2D" parent="SpawnPositions"]
position = Vector2( 153, 190 )

[node name="Node2D22" type="Node2D" parent="SpawnPositions"]
position = Vector2( 74, 186 )

[node name="Node2D23" type="Node2D" parent="SpawnPositions"]
position = Vector2( 119, 246 )

[node name="Node2D24" type="Node2D" parent="SpawnPositions"]
position = Vector2( -26, 44 )

[node name="Node2D25" type="Node2D" parent="SpawnPositions"]
position = Vector2( 65, 268 )

[node name="Node2D26" type="Node2D" parent="SpawnPositions"]
position = Vector2( 6, 77 )

[node name="Node2D27" type="Node2D" parent="SpawnPositions"]
position = Vector2( 66, 73 )

[node name="Node2D28" type="Node2D" parent="SpawnPositions"]
position = Vector2( 128, 72 )

[node name="Node2D29" type="Node2D" parent="SpawnPositions"]
position = Vector2( 212, 76 )

[node name="Node2D30" type="Node2D" parent="SpawnPositions"]
position = Vector2( 281, 46 )

[node name="Node2D31" type="Node2D" parent="SpawnPositions"]
position = Vector2( 250, 97 )

[node name="Node2D32" type="Node2D" parent="SpawnPositions"]
position = Vector2( 274, 136 )

[node name="Node2D33" type="Node2D" parent="SpawnPositions"]
position = Vector2( 333, 208 )

[node name="Node2D34" type="Node2D" parent="SpawnPositions"]
position = Vector2( -129, 214 )

[node name="Node2D35" type="Node2D" parent="SpawnPositions"]
position = Vector2( -35, 202 )

[node name="Node2D36" type="Node2D" parent="SpawnPositions"]
position = Vector2( 255, 201 )

[node name="Node2D37" type="Node2D" parent="SpawnPositions"]
position = Vector2( 186, 183 )

[node name="Node2D38" type="Node2D" parent="SpawnPositions"]
position = Vector2( 36, 195 )

[node name="Node2D39" type="Node2D" parent="SpawnPositions"]
position = Vector2( -36, 134 )

[node name="Node2D40" type="Node2D" parent="SpawnPositions"]
position = Vector2( -120, 144 )

[node name="Node2D41" type="Node2D" parent="SpawnPositions"]
position = Vector2( -93, 86 )

[node name="Node2D42" type="Node2D" parent="SpawnPositions"]
position = Vector2( -72, 40 )

[node name="Node2D43" type="Node2D" parent="SpawnPositions"]
position = Vector2( 290, 132 )

[node name="Node2D44" type="Node2D" parent="SpawnPositions"]
position = Vector2( 316, 63 )

[node name="Node2D45" type="Node2D" parent="SpawnPositions"]
position = Vector2( 142, 133 )

[node name="Node2D46" type="Node2D" parent="SpawnPositions"]
position = Vector2( 57, 133 )

[node name="Node2D47" type="Node2D" parent="SpawnPositions"]
position = Vector2( 108, 189 )

[node name="Node2D48" type="Node2D" parent="SpawnPositions"]
position = Vector2( 25, 46 )

[connection signal="pressed" from="Explanations/Health/VBoxContainer/Button" to="Explanations/Health" method="Finish"]
[connection signal="pressed" from="Explanations/UpgradeDices/VBoxContainer/Button" to="Explanations/UpgradeDices" method="Finish"]
[connection signal="pressed" from="Explanations/ShopPosition/VBoxContainer/Button" to="Explanations/ShopPosition" method="Finish"]
[connection signal="pressed" from="Explanations/ShopMenu/VBoxContainer/Button" to="Explanations/ShopMenu" method="Finish"]
